<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.famos.bets.rawData.mapper.RawDataMapper">
    <!-- BETS-UI-0801 사용 -->
    <!-- BETS-UI-0802 사용 -->
    <select id="retrieveRawData" parameterType="kr.famos.bets.rawData.dto.RawDataDto" resultType="kr.famos.bets.rawData.dto.RawDataDto">
        SELECT
            LOCATION,
            FILE_NAME,
            CREATE_DATE,
            FILE_TYPE
        FROM
            RAW_DATA
        <where>
            1 = 1
            <if test=" createDateStart != null and createDateStart != '' ">
                AND CREATE_DATE <![CDATA[>=]]> #{createDateStart}
            </if>
            <if test=" createDateEnd != null and createDateEnd != '' ">
                AND CREATE_DATE <![CDATA[<=]]> #{createDateEnd}
            </if>
            <if test=" location != null and location != '' ">
                AND LOCATION LIKE '%'|| #{location} || '%'
            </if>
            <if test=" fileName != null and fileName != '' ">
                AND FILE_NAME LIKE '%'|| #{fileName} || '%'
            </if>
            <if test=" fileType != null and fileType != '' ">
                AND FILE_TYPE=#{fileType}
            </if>
        </where>
        ORDER BY CREATE_DATE DESC
    </select>
</mapper>
