<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.famos.bets.history.mesTrackInOut.mapper.MesTrackInOutMapper">
    <select id="retrieveMesTrackInOut" parameterType="kr.famos.bets.history.mesTrackInOut.dto.MesTrackInOutDto" resultType="kr.famos.bets.history.mesTrackInOut.dto.MesTrackInOutDto">
        SELECT
              MES_MODE,
              REQUEST_LOT_MESSAGE,
              BTES_RESULT,
              REQUEST_LOT_DATE,
              RECEIVE_LOT_MESSAGE,
              RECEIVE_LOT_DATE,
              CREATE_DATE,
              CREATE_USER
        FROM
              MES_TRACK_IN_OUT
        <where>
            1 = 1
            <if test=" createDateStart != null and createDateStart != '' ">
                AND CREATE_DATE <![CDATA[>=]]> #{createDateStart}
            </if>
            <if test=" createDateEnd != null and createDateEnd != '' ">
                AND CREATE_DATE <![CDATA[<=]]> #{createDateEnd}
            </if>
            <if test=" requestLotMessage != null and requestLotMessage != '' ">
                AND REQUEST_LOT_MESSAGE LIKE '%'|| #{requestLotMessage} || '%'
            </if>
            <if test=" mesMode != null and mesMode != '' ">
                AND MES_MODE LIKE '%'|| #{mesMode} || '%'
            </if>
        </where>
        ORDER BY
              CREATE_DATE DESC
    </select>


</mapper>
