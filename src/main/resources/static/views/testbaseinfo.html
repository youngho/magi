<!-- Wrapper-->
<div id="wrapper">

    <!-- Navigation -->
    <div ng-include="'views/common/navigation.html'"></div>

    <!-- Page wraper -->
    <!-- ng-class with current state name give you the ability to extended customization your view -->
    <div id="page-wrapper" class="gray-bg {{$state.current.name}}">

        <!-- Page wrapper -->
        <div ng-include="'views/common/topnavbar.html'"></div>


        <div class="row">
            <div class="col-lg-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-content">
                        <form role="form" class="form-inline">
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Normal</label><div class="col-sm-2"><input type="text" class="form-control"></div>
                                <label class="col-sm-2 control-label">Normal</label><div class="col-sm-2"><input type="text" class="form-control"></div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="ibox float-e-margins">
                    <div class="ibox-content">
                        <form role="form" class="form-inline">
                            <div class="form-group">
                                <label>Site</label>
                                <input type="" placeholder="" class="form-control">
                                <label>Step</label>
                                <input type="" placeholder="" class="form-control">
                                <label>Function</label>
                                <input type="" placeholder="" class="form-control">
                                <label>Function</label>
                                <input type="" placeholder="" class="form-control">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="ibox float-e-margins">
                    <div class="ibox-content">
                        <form role="form" class="form-inline">
                            <div class="form-group">
                                <label>Site</label>
                                <input type="" placeholder="" class="form-control">
                                <label>Step</label>
                                <input type="" placeholder="" class="form-control">
                                <label>Function</label>
                                <input type="" placeholder="" class="form-control">
                                <label>Function</label>
                                <input type="" placeholder="" class="form-control">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="ibox float-e-margins">
                    <div class="ibox-content">
                        <form role="form" class="form-inline">
                            <div class="form-group">
                                <label>Site</label>
                                <input type="" placeholder="" class="form-control">
                                <label>Step</label>
                                <input type="" placeholder="" class="form-control">
                                <label>Function</label>
                                <input type="" placeholder="" class="form-control">
                                <label>Function</label>
                                <input type="" placeholder="" class="form-control">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="ibox float-e-margins">
                    <div class="ibox-content">
                        <form role="form" class="form-inline">
                            <div class="form-group">
                                <label>Site</label>
                                <input type="" placeholder="" class="form-control">
                                <label>Step</label>
                                <input type="" placeholder="" class="form-control">
                                <label>Function</label>
                                <input type="" placeholder="" class="form-control">
                                <label>Function</label>
                                <input type="" placeholder="" class="form-control">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <script>
            $.jgrid.defaults.styleUI = 'Bootstrap';
        </script>

        <!-- Main view  -->
        <div class="row">
            <div id="grid_container" class="col-lg-12">
                <table id="jqGrid"></table>
                <div id="jqGridPager"></div>

                <script type="text/javascript">
                    $(document).ready(function () {
                        var colM = [];
                        console.log("비동기 통신을 하여 json타입으로 호출한다.");
                        $.ajax({
                            url: '/base/20130101013529', async: false, dataType: 'json', success: function (data) {
                                for (var key in data) {
                                    colM.push({name: key, index: key, width: 40});
                                }
                                console.log(colM);
                                $("#listLayout").html(data);
                            }
                        });

                        $("#jqGrid").jqGrid({
                            url: '/tests',
                            mtype: "GET",
                            datatype: "json",
                            colModel: colM,
                            viewrecords: true,
                            //width: 780,
                            height: 300,
                            rowNum: 40,
                            pager: "#jqGridPager"
                        });

                        resizeJqGridWidth('jqGrid', 'grid_container', $('#grid_container').width(), true);
                        /*
                         * @param string grid_id 사이즈를 변경할 그리드의 아이디
                         * @param string div_id 그리드의 사이즈의 기준을 제시할 div 의 아이디
                         * @param string width 그리드의 초기화 width 사이즈
                         * @param boolean tf 그리드의 리사이즈 여부(true/false)
                         */
                        function resizeJqGridWidth(grid_id, div_id, width, tf) {

                            // window에 resize 이벤트를 바인딩 한다.
                            $(window).bind('resize', function () {

                                var resizeWidth = $('#grid_container').width(); //jQuery-ui의 padding 설정 및 border-width값때문에 넘치는 걸 빼줌.

                                // 그리드의 width 초기화
                                $('#' + grid_id).setGridWidth(resizeWidth, tf);

                                // 그리드의 width를 div 에 맞춰서 적용
                                $('#' + grid_id).setGridWidth(resizeWidth, tf); //Resized to new width as per window.

                            }).trigger('resize');
                        }
                    });

                </script>
            </div>

        </div>


        <!-- Footer -->
        <!--<div ng-include="'views/common/footer.html'"></div>-->

    </div>
    <!-- End page wrapper-->

</div>
<!-- End wrapper-->